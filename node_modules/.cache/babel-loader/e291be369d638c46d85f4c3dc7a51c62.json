{"ast":null,"code":"import SalesDataService from './sales.js';\n\nclass SalesAnalysisDataService {\n  constructor() {\n    this.calculateQuantityItems = store => {\n      var sales;\n      SalesDataService.find(store, \"location\").then(response => {\n        sales = response.data.Sales;\n      }).catch(e => {\n        console.log(e);\n      });\n      var items = {}; // {'pencil':3, 'eraser':10}\n\n      var totalNumber = 0; // 13\n\n      sales.map(element => {\n        element.items.map(item => {\n          items[item.name] = items[item.name] ? items[item.name] + parseInt(item.quantity) : parseInt(item.quantity);\n          totalNumber += parseInt(item.quantity);\n        });\n      });\n      var ratios = [['Category', 'Quantity sold']];\n      var objectKeysArray = Object.keys(items);\n      objectKeysArray.forEach(objKey => {\n        var objValue = items[objKey]; // objVal holds quantity of each item\n\n        var ration = [objKey, objValue];\n        ratios.push(ration);\n      });\n      return ratios;\n    };\n  }\n\n  setSales(sales) {\n    this.sales = sales;\n  }\n\n} // var minRange = 999999999\n// var maxRange = 0\n// sales.forEach(element => {\n//     totalAmount = 0.0\n//     element.items.forEach(item => {\n//         totalAmount+=(parseInt(item.price) * parseInt(item.quantity)) ;\n//     })\n//     minRange = (minRange>totalAmount?totalAmount:minRange)\n//     maxRange = (maxRange<totalAmount?totalAmount:maxRange)\n// });\n\n\nexport default new SalesAnalysisDataService();","map":{"version":3,"sources":["/home/aarthi/fitgit/react/einduch-stop/frontend/src/services/analyze.js"],"names":["SalesDataService","SalesAnalysisDataService","calculateQuantityItems","store","sales","find","then","response","data","Sales","catch","e","console","log","items","totalNumber","map","element","item","name","parseInt","quantity","ratios","objectKeysArray","Object","keys","forEach","objKey","objValue","ration","push","setSales"],"mappings":"AAAA,OAAOA,gBAAP,MAA6B,YAA7B;;AAEA,MAAMC,wBAAN,CAA+B;AAAA;AAAA,SAM3BC,sBAN2B,GAMDC,KAAD,IAAW;AAEhC,UAAIC,KAAJ;AAEAJ,MAAAA,gBAAgB,CAACK,IAAjB,CAAsBF,KAAtB,EAA6B,UAA7B,EACCG,IADD,CACMC,QAAQ,IAAI;AACdH,QAAAA,KAAK,GAAIG,QAAQ,CAACC,IAAT,CAAcC,KAAvB;AACH,OAHD,EAICC,KAJD,CAIOC,CAAC,IAAI;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,OAND;AAQA,UAAIG,KAAK,GAAG,EAAZ,CAZgC,CAahC;;AACA,UAAIC,WAAW,GAAG,CAAlB,CAdgC,CAehC;;AAEAX,MAAAA,KAAK,CAACY,GAAN,CAAUC,OAAO,IAAI;AAEjBA,QAAAA,OAAO,CAACH,KAAR,CAAcE,GAAd,CAAkBE,IAAI,IAAI;AAExBJ,UAAAA,KAAK,CAACI,IAAI,CAACC,IAAN,CAAL,GAAkBL,KAAK,CAACI,IAAI,CAACC,IAAN,CAAL,GAAmBL,KAAK,CAACI,IAAI,CAACC,IAAN,CAAL,GAAiBC,QAAQ,CAACF,IAAI,CAACG,QAAN,CAA5C,GAA8DD,QAAQ,CAACF,IAAI,CAACG,QAAN,CAAxF;AAEAN,UAAAA,WAAW,IAAEK,QAAQ,CAACF,IAAI,CAACG,QAAN,CAArB;AACD,SALD;AAOH,OATD;AAWA,UAAIC,MAAM,GAAG,CAAC,CAAC,UAAD,EAAY,eAAZ,CAAD,CAAb;AAEA,UAAIC,eAAe,GAAGC,MAAM,CAACC,IAAP,CAAYX,KAAZ,CAAtB;AAEAS,MAAAA,eAAe,CAACG,OAAhB,CAAyBC,MAAD,IAAY;AAChC,YAAIC,QAAQ,GAAGd,KAAK,CAACa,MAAD,CAApB,CADgC,CAEhC;;AACA,YAAIE,MAAM,GAAG,CAACF,MAAD,EAASC,QAAT,CAAb;AAEAN,QAAAA,MAAM,CAACQ,IAAP,CAAYD,MAAZ;AACH,OAND;AAQA,aAAOP,MAAP;AACH,KA/C0B;AAAA;;AAE3BS,EAAAA,QAAQ,CAAC3B,KAAD,EAAQ;AACZ,SAAKA,KAAL,GAAaA,KAAb;AACH;;AAJ0B,C,CAmD/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAe,IAAIH,wBAAJ,EAAf","sourcesContent":["import SalesDataService from './sales.js' ;\n\nclass SalesAnalysisDataService {\n\n    setSales(sales) {\n        this.sales = sales ;\n    }\n\n    calculateQuantityItems = (store) => {\n\n        var sales\n\n        SalesDataService.find(store, \"location\")\n        .then(response => {            \n            sales = (response.data.Sales) \n        })\n        .catch(e => {\n            console.log(e);\n        })\n                \n        var items = {}\n        // {'pencil':3, 'eraser':10}\n        var totalNumber = 0\n        // 13\n\n        sales.map(element => {\n\n            element.items.map(item => {\n              \n              items[item.name]=(items[item.name] ? items[item.name]+parseInt(item.quantity) : parseInt(item.quantity)) \n\n              totalNumber+=parseInt(item.quantity)\n            })\n\n        });\n\n        var ratios = [['Category','Quantity sold']]\n\n        var objectKeysArray = Object.keys(items)\n\n        objectKeysArray.forEach((objKey) => {\n            var objValue = items[objKey]\n            // objVal holds quantity of each item\n            var ration = [objKey, objValue]\n\n            ratios.push(ration)\n        })\n        \n        return ratios\n    }\n    \n}\n   \n// var minRange = 999999999\n// var maxRange = 0\n// sales.forEach(element => {\n//     totalAmount = 0.0\n//     element.items.forEach(item => {\n//         totalAmount+=(parseInt(item.price) * parseInt(item.quantity)) ;\n//     })\n//     minRange = (minRange>totalAmount?totalAmount:minRange)\n//     maxRange = (maxRange<totalAmount?totalAmount:maxRange)\n// });\nexport default new SalesAnalysisDataService();"]},"metadata":{},"sourceType":"module"}