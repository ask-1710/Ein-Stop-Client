{"ast":null,"code":"var _jsxFileName = \"/home/aarthi/fitgit/react/einduch-stop/frontend/src/components/sales-list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport SalesDataService from '../services/sales.js';\nimport { useEffect } from 'react';\nimport '../App.css';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Chart } from \"react-google-charts\";\nimport dayjs from 'dayjs';\nimport priceFormatter from '../services/priceFormatter.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SalesList = props => {\n  _s();\n\n  const [sales, setSales] = React.useState([]);\n  const [queryLocation, setQueryLocation] = React.useState(\"\");\n  const [queryCoupons, setQueryCoupons] = React.useState();\n  const [queryPurchaseMethod, setQueryPurchaseMethod] = React.useState(\"\");\n  const [purchaseMethods, setPurchaseMethods] = React.useState([\"Any\"]);\n  const [pages, setQueryPage] = React.useState(0);\n  const [locations, setLocations] = React.useState([\"All\"]);\n  const [startDate, setstartDate] = React.useState(new Date());\n  const [endDate, setendDate] = React.useState(new Date());\n  const [NoSalesFlag, setNoSalesFlag] = React.useState(false);\n  const [modifiedSales, setModifiedSales] = React.useState(null);\n  const [totalSales, settotalSales] = useState(0);\n  const [revenue, setRevenue] = useState(0.0);\n  useEffect(() => {\n    retrieveSales();\n    retrievePurchaseMethod();\n    retrieveLocations();\n    setQueryCoupons(false);\n  }, []);\n\n  const onChangeQueryLocation = e => {\n    const searchLocation = e.target.value;\n    setQueryLocation(searchLocation);\n  };\n\n  const onChangeQueryCoupons = e => {\n    const searchCoupons = e.target.checked ? true : false;\n    setQueryCoupons(searchCoupons);\n  };\n\n  const onChangeQueryPurchaseMethod = e => {\n    const searchPurchaseMethod = e.target.value;\n    setQueryPurchaseMethod(searchPurchaseMethod);\n  };\n\n  const onChangeSetstartDate = e => {\n    setstartDate(e);\n  };\n\n  const onChangeSetendDate = e => {\n    setendDate(e);\n  };\n\n  const retrieveSales = () => {\n    SalesDataService.getAll().then(response => {\n      setSales(response.data.Sales);\n    }).catch(e => {\n      console.log(e);\n    });\n    setNoSalesFlag(true);\n  };\n\n  const retrievePurchaseMethod = () => {\n    SalesDataService.getPurchaseMethod().then(response => {\n      setPurchaseMethods([\"Any\"].concat(response.data));\n      setNoSalesFlag(true);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const retrieveLocations = () => {\n    SalesDataService.getStoreLocations().then(response => {\n      setLocations([\"All\"].concat(response.data));\n      setNoSalesFlag(true);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const refreshList = () => {\n    retrieveSales();\n    setNoSalesFlag(true);\n  };\n\n  const find = (query, by) => {\n    SalesDataService.find(query, by).then(response => {\n      setSales(response.data.Sales);\n      modifySalesFormat();\n      setNoSalesFlag(true);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const modifySalesFormat = () => {\n    var modified = [['Location', 'Date (MM-DD-YYYY)', 'Customer', 'Rating', 'Purchase Method', 'Coupon used']];\n    var total = 0;\n    var revenue = 0;\n    sales.map(sale => {\n      if (dayjs(sale.saleDate) > dayjs(startDate) && dayjs(sale.saleDate) < dayjs(endDate)) {\n        var m = [];\n        m.push(sale.storeLocation);\n        m.push(dayjs(sale.saleDate).format('MM-DD-YYYY'));\n        m.push(sale.customer.email);\n        m.push(sale.customer.satisfaction);\n        m.push(sale.purchaseMethod);\n        m.push(sale.couponUsed);\n        modified.push(m);\n        sale.items.map(item => {\n          total += parseInt(item.quantity);\n          revenue += parseInt(item.quantity) * item.price['$numberDecimal'];\n        });\n      }\n    });\n    modified.sort((a, b) => dayjs(b[1]).toDate() - dayjs(a[1]).toDate());\n    setModifiedSales(modified);\n    settotalSales(total);\n    setRevenue(revenue);\n  };\n\n  const findAll = () => {\n    SalesDataService.getAll(pages).then(response => {\n      setSales(response.data.Sales);\n    });\n  };\n\n  const findByLocation = () => {\n    if (queryPurchaseMethod === \"All\") {\n      refreshList();\n    } else {\n      find(queryLocation, \"location\");\n    }\n  };\n\n  const findByCoupons = () => {\n    find(queryCoupons, \"couponUsed\");\n  };\n\n  const findByPurchaseMethod = () => {\n    if (queryPurchaseMethod === \"Any\") {\n      refreshList();\n    } else {\n      find(queryPurchaseMethod, \"purchaseMethod\");\n    }\n  };\n\n  const findAllFilters = () => {\n    if (queryLocation === \"Any\") queryLocation = null;\n    if (queryPurchaseMethod === \"All\") queryPurchaseMethod = null;\n    SalesDataService.findAll(queryLocation, queryPurchaseMethod, queryCoupons).then(response => {\n      setSales(response.data.Sales);\n      modifySalesFormat(sales);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container wrapper App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row py-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"sticky-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"nav flex-column float-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group-prepend\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon2\",\n                  children: \"Purchase Method\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                class: \"form-control\",\n                type: \"custom-select\",\n                onChange: onChangeQueryPurchaseMethod,\n                children: purchaseMethods.map(method => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: method,\n                    children: [\" \", method, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group-prepend\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon3\",\n                  children: \"Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                class: \"form-control\",\n                onChange: onChangeQueryLocation,\n                children: locations.map(method => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: method,\n                    children: [\" \", method, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group-prepend\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon4\",\n                  children: \"From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-control\",\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  id: \"startDate\",\n                  onChange: onChangeSetstartDate,\n                  selected: startDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group-prepend\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon2\",\n                  for: \"endDate\",\n                  children: \"End Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-control\",\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  id: \"endDate\",\n                  onChange: onChangeSetendDate,\n                  selected: endDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-group-prepend\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"input-group-text\",\n                  id: \"basic-addon2\",\n                  for: \"customSwitch1\",\n                  children: \"Coupons\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"custom-control custom-switch form-control\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  class: \"custom-control-input\",\n                  onChange: onChangeQueryCoupons,\n                  id: \"customSwitch1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-append mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-dark\",\n                type: \"button\",\n                onClick: findAllFilters,\n                children: \"Apply All Filters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row py-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    children: \"STATS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Total Sales : \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 21\n                    }, this), priceFormatter(totalSales), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 80\n                    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Revenue: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 21\n                    }, this), priceFormatter(Math.trunc(revenue)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 84\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: NoSalesFlag && modifiedSales ? /*#__PURE__*/_jsxDEV(Chart, {\n          className: \"gchart\",\n          chartType: \"Table\",\n          width: \"100%\",\n          height: \"100%\",\n          data: modifiedSales,\n          options: {\n            allowHtml: true,\n            title: \"Sales\",\n            legend: {\n              position: \"top\"\n            },\n            pageSize: 20,\n            width: \"100%\",\n            height: \"100%\",\n            backgroundColor: '#E4E4E4',\n            is3D: true\n          },\n          formatters: options = {}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 9\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"alert alert-danger col-8\",\n            role: \"alert\",\n            children: \"No such sales exist :(\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SalesList, \"u8LrP6qvXEQnikBAozFvfpu7feY=\");\n\n_c = SalesList;\nexport default SalesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalesList\");","map":{"version":3,"sources":["/home/aarthi/fitgit/react/einduch-stop/frontend/src/components/sales-list.js"],"names":["React","useState","SalesDataService","useEffect","DatePicker","Chart","dayjs","priceFormatter","SalesList","props","sales","setSales","queryLocation","setQueryLocation","queryCoupons","setQueryCoupons","queryPurchaseMethod","setQueryPurchaseMethod","purchaseMethods","setPurchaseMethods","pages","setQueryPage","locations","setLocations","startDate","setstartDate","Date","endDate","setendDate","NoSalesFlag","setNoSalesFlag","modifiedSales","setModifiedSales","totalSales","settotalSales","revenue","setRevenue","retrieveSales","retrievePurchaseMethod","retrieveLocations","onChangeQueryLocation","e","searchLocation","target","value","onChangeQueryCoupons","searchCoupons","checked","onChangeQueryPurchaseMethod","searchPurchaseMethod","onChangeSetstartDate","onChangeSetendDate","getAll","then","response","data","Sales","catch","console","log","getPurchaseMethod","concat","getStoreLocations","refreshList","find","query","by","modifySalesFormat","modified","total","map","sale","saleDate","m","push","storeLocation","format","customer","email","satisfaction","purchaseMethod","couponUsed","items","item","parseInt","quantity","price","sort","a","b","toDate","findAll","findByLocation","findByCoupons","findByPurchaseMethod","findAllFilters","method","Math","trunc","allowHtml","title","legend","position","pageSize","width","height","backgroundColor","is3D","options"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport SalesDataService from '../services/sales.js'\nimport { useEffect } from 'react';\nimport '../App.css'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Chart } from \"react-google-charts\";\nimport dayjs from 'dayjs' ;\nimport priceFormatter from '../services/priceFormatter.js'\n\n\nconst SalesList = props => {\n  const [sales, setSales] = React.useState([])\n  const [queryLocation, setQueryLocation] = React.useState(\"\")\n  const [queryCoupons, setQueryCoupons] = React.useState()\n  const [queryPurchaseMethod, setQueryPurchaseMethod] = React.useState(\"\")\n  const [purchaseMethods, setPurchaseMethods] = React.useState([\"Any\"]);\n  const [pages, setQueryPage] = React.useState(0) \n  const [locations,  setLocations] = React.useState([\"All\"])\n  const [startDate, setstartDate] = React.useState(new Date())\n  const [endDate, setendDate] = React.useState(new Date())\n  const [NoSalesFlag, setNoSalesFlag] = React.useState(false)\n  const [modifiedSales, setModifiedSales] = React.useState(null)\n  const [totalSales, settotalSales] = useState(0)\n  const [revenue, setRevenue]=useState(0.0)\n\n  useEffect(() => {\n    retrieveSales();\n    retrievePurchaseMethod();\n    retrieveLocations();\n    setQueryCoupons(false);\n  }, []);\n\n  const onChangeQueryLocation = e => {\n    const searchLocation = e.target.value;\n    setQueryLocation(searchLocation);\n  };\n\n  const onChangeQueryCoupons = e => {\n    const searchCoupons = (e.target.checked?true:false)\n    setQueryCoupons(searchCoupons);\n  };\n\n  const onChangeQueryPurchaseMethod = e => {\n    const searchPurchaseMethod = e.target.value;\n    setQueryPurchaseMethod(searchPurchaseMethod);\n  };\n\n  const onChangeSetstartDate = e => {\n    setstartDate(e)\n  }\n\n  const onChangeSetendDate = e => {\n    setendDate(e)\n  }\n\n  const retrieveSales = () => {\n    SalesDataService.getAll()\n      .then(response => {\n        setSales(response.data.Sales);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n      setNoSalesFlag(true)\n  };\n\n  const retrievePurchaseMethod = () => {\n    SalesDataService.getPurchaseMethod()\n      .then(response => {\n        setPurchaseMethods([\"Any\"].concat(response.data));\n        setNoSalesFlag(true)\n      })\n      .catch(e => {\n        console.log(e);\n      });\n      \n  };\n\n  const retrieveLocations = () => {\n    SalesDataService.getStoreLocations()\n    .then(response => {\n      setLocations([\"All\"].concat(response.data));\n      setNoSalesFlag(true)\n    })\n    .catch(e => {\n      console.log(e);\n    });\n  }\n\n  const refreshList = () => {\n    retrieveSales();\n    setNoSalesFlag(true)\n  };\n\n  const find = (query, by) => {\n    SalesDataService.find(query, by)\n      .then(response => {\n        \n        setSales(response.data.Sales);\n\n        modifySalesFormat() \n        setNoSalesFlag(true)\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const modifySalesFormat = () => {\n    \n    var modified = [['Location','Date (MM-DD-YYYY)','Customer','Rating','Purchase Method','Coupon used']]\n    var total=0;\n    var revenue=0\n    sales.map(sale => {\n      if(dayjs(sale.saleDate) > dayjs(startDate) && dayjs(sale.saleDate) < dayjs(endDate)) {\n        var m = []\n        m.push(sale.storeLocation)\n        m.push(dayjs(sale.saleDate).format('MM-DD-YYYY'))\n        m.push(sale.customer.email)\n        m.push(sale.customer.satisfaction)\n        m.push(sale.purchaseMethod)\n        m.push(sale.couponUsed)\n        modified.push(m) \n        sale.items.map(item=>{\n          total+=(parseInt(item.quantity))\n          revenue+=(parseInt(item.quantity)*item.price['$numberDecimal'])\n        })\n      }\n    })\n\n    modified.sort((a,b) => (dayjs(b[1]).toDate())-(dayjs(a[1]).toDate()))\n\n    setModifiedSales(modified)\n    settotalSales(total)\n    setRevenue(revenue)\n\n  }\n\n  const findAll = () => {\n    SalesDataService.getAll(pages)\n      .then(response => {\n          setSales(response.data.Sales)\n      })\n  }\n\n  const findByLocation = () => {\n    if (queryPurchaseMethod === \"All\") {\n      refreshList();\n    }\n    else {\n      find(queryLocation, \"location\")\n    }\n  };\n\n  const findByCoupons = () => {\n    \n    find(queryCoupons, \"couponUsed\")\n  };\n\n  const findByPurchaseMethod = () => {\n    if (queryPurchaseMethod === \"Any\") {\n      refreshList();\n    } else {\n      find(queryPurchaseMethod, \"purchaseMethod\")\n    }\n  };\n\n  const findAllFilters = () => {\n    if(queryLocation === \"Any\") queryLocation = null\n    if(queryPurchaseMethod === \"All\") queryPurchaseMethod = null\n    SalesDataService.findAll(queryLocation, queryPurchaseMethod, queryCoupons)\n    .then(response => {\n      setSales(response.data.Sales)\n      modifySalesFormat(sales)\n    })\n    .catch(e => {\n        console.log(e)\n    })\n  }\n\n  return (\n    \n    <div className='container wrapper App'>\n      <div className='row py-3'>\n        <div className=\"col-3\">\n        <div class=\"sticky-top\">\n        <div class=\"nav flex-column float-left\">     \n          <div className=\"input-group mb-3\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\" id=\"basic-addon2\">Purchase Method</span>\n              </div>\n              <select class=\"form-control\" type=\"custom-select\" onChange={onChangeQueryPurchaseMethod}>\n                {\n                  purchaseMethods.map(method => {\n                    return (\n                      <option value={method}> {method} </option>\n                    )\n                  })\n                }\n              </select>\n              {/* <div className=\"input-group-append\">\n                <button className=\"btn btn-outline-dark\" onClick={findByPurchaseMethod}>Apply</button>\n              </div> */}\n          </div>\n        <div className=\"input-group mb-3\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\" id=\"basic-addon3\">Location</span>\n          </div>\n          <select class=\"form-control\" onChange={onChangeQueryLocation}>\n              {\n                locations.map(method => {\n                  return (\n                    <option value={method}> {method} </option>\n                  )\n                })\n              }\n            </select>\n            {/* <div className=\"input-group-append\">\n                <button className=\"btn btn-outline-dark\" onClick={findByLocation}>Apply</button>\n            </div> */}\n        </div>\n        <div className=\"input-group mb-3\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\" id=\"basic-addon4\">From</span> \n          </div>\n        <div className='form-control'>\n            <DatePicker\n\t\t\t\t\t\t\t\tid=\"startDate\"\n\t\t\t\t\t\t\t\tonChange={onChangeSetstartDate}\n\t\t\t\t\t\t\t\tselected={startDate}\n\t\t\t\t\t\t\t/>\n            </div>\n            </div>\n        <div className=\"input-group mb-3\">\n        <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"basic-addon2\" for='endDate'>End Date</span>\n        </div>\n        <div className='form-control'>\n            <DatePicker\n\t\t\t\t\t\t\t\tid=\"endDate\"\n\t\t\t\t\t\t\t\tonChange={onChangeSetendDate}\n\t\t\t\t\t\t\t\tselected={endDate}\n\t\t\t\t\t\t\t/>\n          </div>\n        </div>  \n        <div className=\"input-group mb-3\">        \n          <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"basic-addon2\" for='customSwitch1'>Coupons</span>\n          </div>\n        <div class=\"custom-control custom-switch form-control\">\n            <input type=\"checkbox\" class=\"custom-control-input\" onChange={onChangeQueryCoupons} id=\"customSwitch1\"/>\n        </div>\n        </div>\n        <br/>\n        <br/>\n        <div className=\"input-group-append mb-3\">\n          <button\n            className=\"btn btn-outline-dark\"\n            type=\"button\"\n            onClick={findAllFilters}\n          >\n            Apply All Filters\n          </button>\n        </div>\n      </div>  \n        <br/>\n        <br/>\n        <div className='row py-3'>\n        <div className=\"col-12\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">STATS</h5>\n                  <p className=\"card-text\">\n                    <strong>Total Sales : </strong>{priceFormatter(totalSales)}<br/>\n                    <strong>Revenue: </strong>{priceFormatter(Math.trunc(revenue))}<br/>\n                  </p>\n                </div>\n              </div>\n            </div>\n      </div>\n      </div> \n      </div>\n      <div className='col-1'></div>\n      <div className=\"col\">\n      { \n        NoSalesFlag && modifiedSales ?\n        <Chart\n            className='gchart'\n            chartType=\"Table\"\n            width=\"100%\"\n            height=\"100%\"\n            data={modifiedSales}\n            options={{     \n              allowHtml: true,\n              title: \"Sales\",\n              legend: { position: \"top\" },\n              pageSize: 20,\n              width:\"100%\",\n              height:\"100%\",\n              backgroundColor: '#E4E4E4',\n              is3D: true\n            }}\n            formatters={\n              options={\n                \n              }\n            }\n        /> :\n        <div>\n        <div class=\"alert alert-danger col-8\" role=\"alert\">\n          No such sales exist :(\n        </div>\n        </div>\n      } \n      </div>\n      </div>\n    </div>\n    \n  );\n}\n\nexport default SalesList;"]},"metadata":{},"sourceType":"module"}