{"ast":null,"code":"var _jsxFileName = \"/home/aarthi/fitgit/react/einduch-stop/frontend/src/components/sales-list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport SalesDataService from '../services/sales.js';\nimport { useEffect } from 'react';\nimport '../App.css';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Chart } from \"react-google-charts\";\nimport dayjs from 'dayjs';\nimport priceFormatter from '../services/priceFormatter.js';\nimport { Link, Route, Routes } from 'react-router-dom';\nimport Login from './login.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SalesList = props => {\n  _s();\n\n  const [sales, setSales] = React.useState([]);\n  const [queryLocation, setQueryLocation] = React.useState(\"\");\n  const [queryCoupons, setQueryCoupons] = React.useState();\n  const [queryPurchaseMethod, setQueryPurchaseMethod] = React.useState(\"\");\n  const [purchaseMethods, setPurchaseMethods] = React.useState([\"Any\"]);\n  const [pages, setQueryPage] = React.useState(0);\n  const [locations, setLocations] = React.useState([\"All\"]);\n  const [startDate, setstartDate] = React.useState(new Date());\n  const [endDate, setendDate] = React.useState(new Date());\n  const [NoSalesFlag, setNoSalesFlag] = React.useState(false);\n  const [modifiedSales, setModifiedSales] = React.useState(null);\n  const [totalSales, settotalSales] = useState(0);\n  const [revenue, setRevenue] = useState(0.0);\n  useEffect(() => {\n    retrieveSales();\n    retrievePurchaseMethod();\n    retrieveLocations();\n    setQueryCoupons(false);\n  }, []);\n\n  const onChangeQueryLocation = e => {\n    const searchLocation = e.target.value;\n    setQueryLocation(searchLocation);\n  };\n\n  const onChangeQueryCoupons = e => {\n    const searchCoupons = e.target.checked ? true : false;\n    setQueryCoupons(searchCoupons);\n  };\n\n  const onChangeQueryPurchaseMethod = e => {\n    const searchPurchaseMethod = e.target.value;\n    setQueryPurchaseMethod(searchPurchaseMethod);\n  };\n\n  const onChangeSetstartDate = e => {\n    setstartDate(e);\n  };\n\n  const onChangeSetendDate = e => {\n    setendDate(e);\n  };\n\n  const retrieveSales = () => {\n    SalesDataService.getAll().then(response => {\n      setSales(response.data.Sales);\n    }).catch(e => {\n      console.log(e);\n    });\n    setNoSalesFlag(true);\n  };\n\n  const retrievePurchaseMethod = () => {\n    SalesDataService.getPurchaseMethod().then(response => {\n      setPurchaseMethods([\"Any\"].concat(response.data));\n      setNoSalesFlag(true);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const retrieveLocations = () => {\n    SalesDataService.getStoreLocations().then(response => {\n      setLocations([\"All\"].concat(response.data));\n      setNoSalesFlag(true);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const refreshList = () => {\n    retrieveSales();\n    setNoSalesFlag(true);\n  };\n\n  const find = (query, by) => {\n    SalesDataService.find(query, by).then(response => {\n      setSales(response.data.Sales);\n      modifySalesFormat();\n      setNoSalesFlag(true);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const modifySalesFormat = () => {\n    var modified = [['Location', 'Date (MM-DD-YYYY)', 'Customer', 'Rating', 'Purchase Method', 'Coupon used']];\n    var total = 0;\n    var revenue = 0;\n    sales.map(sale => {\n      if (dayjs(sale.saleDate) > dayjs(startDate) && dayjs(sale.saleDate) < dayjs(endDate)) {\n        var m = [];\n        m.push(sale.storeLocation);\n        m.push(dayjs(sale.saleDate).format('MM-DD-YYYY'));\n        m.push(sale.customer.email);\n        m.push(sale.customer.satisfaction);\n        m.push(sale.purchaseMethod);\n        m.push(sale.couponUsed);\n        modified.push(m);\n        sale.items.map(item => {\n          total += parseInt(item.quantity);\n          revenue += parseInt(item.quantity) * item.price['$numberDecimal'];\n        });\n      }\n    });\n    modified.sort((a, b) => dayjs(b[1]).toDate() - dayjs(a[1]).toDate());\n\n    if (modified.length > 1) {\n      setModifiedSales(modified);\n      settotalSales(total);\n      setRevenue(revenue);\n    }\n  };\n\n  const findAll = () => {\n    SalesDataService.getAll(pages).then(response => {\n      setSales(response.data.Sales);\n    });\n  };\n\n  const findByLocation = () => {\n    if (queryPurchaseMethod === \"All\") {\n      refreshList();\n    } else {\n      find(queryLocation, \"location\");\n    }\n  };\n\n  const findByCoupons = () => {\n    find(queryCoupons, \"couponUsed\");\n  };\n\n  const findByPurchaseMethod = () => {\n    if (queryPurchaseMethod === \"Any\") {\n      refreshList();\n    } else {\n      find(queryPurchaseMethod, \"purchaseMethod\");\n    }\n  };\n\n  const findAllFilters = () => {\n    if (queryLocation === \"Any\") queryLocation = null;\n    if (queryPurchaseMethod === \"All\") queryPurchaseMethod = null;\n    SalesDataService.findAll(queryLocation, queryPurchaseMethod, queryCoupons).then(response => {\n      setSales(response.data.Sales);\n      modifySalesFormat(sales);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  /*#__PURE__*/\n  _jsxDEV(\"div\", {\n    class: \"form-outline form-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"formWhite\",\n      class: \"form-control\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      class: \"form-label\",\n      for: \"formWhite\",\n      children: \"Example label\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 1\n  }, this);\n\n  return props.loggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container wrapper App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row py-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"sticky-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"nav flex-column float-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-outline form-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                class: \"form-control selectinput\",\n                type: \"select\",\n                onChange: onChangeQueryPurchaseMethod,\n                children: purchaseMethods.map(method => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: method,\n                    children: [\" \", method, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"formWhite1\",\n                children: \"Purchase Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-outline form-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                class: \"form-control selectinput\",\n                type: \"select\",\n                onChange: onChangeQueryLocation,\n                children: locations.map(method => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: method,\n                    children: [\" \", method, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"formWhite2\",\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-outline form-white\",\n              children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n                className: \"form-control input\",\n                id: \"startDate\",\n                onChange: onChangeSetstartDate,\n                selected: startDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"formWhite3\",\n                children: \"From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-outline form-white\",\n              children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n                className: \"form-control input\",\n                id: \"endDate\",\n                onChange: onChangeSetendDate,\n                selected: endDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"formWhite4\",\n                children: \"To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"custom-control custom-switch\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                class: \"regular-checkbox big-checkbox\",\n                onChange: onChangeQueryCoupons,\n                id: \"customSwitch2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"form-label\",\n              for: \"formWhite6\",\n              children: \"Coupons\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-append mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-dark\",\n                type: \"button\",\n                onClick: findAllFilters,\n                children: \"Apply All Filters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row py-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body card-bg-dark \",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title card-bg-dark\",\n                    children: \"STATS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text card-bg-dark\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Total Sales : \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 21\n                    }, this), priceFormatter(totalSales), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 80\n                    }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Revenue: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 21\n                    }, this), priceFormatter(Math.trunc(revenue)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 84\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: NoSalesFlag && modifiedSales ? /*#__PURE__*/_jsxDEV(Chart, {\n          chartType: \"Table\",\n          width: \"100%\",\n          height: \"100%\",\n          data: modifiedSales,\n          options: {\n            allowHtml: true,\n            title: \"Sales\",\n            legend: {\n              position: \"top\"\n            },\n            pageSize: 25,\n            width: \"100%\",\n            height: \"100%\",\n            cssClassNames: {\n              'headerRow': 'font-color-white large-font bold-font black-background gold-border',\n              'tableRow': 'light-coral-background font-color-black bold-font',\n              'oddTableRow': 'orange-background font-color-black bold-font',\n              'selectedTableRow': 'light-orange-background large-font',\n              'hoverTableRow': 'light-orange-background large-font',\n              'headerCell': 'gold-border',\n              'tableCell': 'text-font right-text deeppink-border',\n              'rowNumberCell': 'underline-blue-font',\n              'footer': 'black-background'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 9\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"jumbotron jumbotron-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              class: \"display-4\",\n              children: \"No Such Sales Exist :(\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"lead\",\n              children: [\"Try the following\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Change the \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-italics\",\n                  children: \"From date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 30\n                }, this), \"  value\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Change the \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-italics\",\n                  children: \"Coupons\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 30\n                }, this), \" value\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Click on \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-italics\",\n                  children: \"Apply All Filters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 28\n                }, this), \" another time if \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-italics\",\n                  children: \"desired\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 98\n                }, this), \" results are not obtained\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Currently on sales dated between \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-italics\",\n                  children: \"2013\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 52\n                }, this), \" and \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-italics\",\n                  children: \"2017\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 97\n                }, this), \" exist\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 26\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"jumbotron jumbotron-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"display-4\",\n          children: \"Log In to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"lead\",\n          children: [\"Head on to \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/supply\",\n            children: \"Login Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/supply\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            login: props.login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 6\n  }, this);\n};\n\n_s(SalesList, \"u8LrP6qvXEQnikBAozFvfpu7feY=\");\n\n_c = SalesList;\nexport default SalesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalesList\");","map":{"version":3,"sources":["/home/aarthi/fitgit/react/einduch-stop/frontend/src/components/sales-list.js"],"names":["React","useState","SalesDataService","useEffect","DatePicker","Chart","dayjs","priceFormatter","Link","Route","Routes","Login","SalesList","props","sales","setSales","queryLocation","setQueryLocation","queryCoupons","setQueryCoupons","queryPurchaseMethod","setQueryPurchaseMethod","purchaseMethods","setPurchaseMethods","pages","setQueryPage","locations","setLocations","startDate","setstartDate","Date","endDate","setendDate","NoSalesFlag","setNoSalesFlag","modifiedSales","setModifiedSales","totalSales","settotalSales","revenue","setRevenue","retrieveSales","retrievePurchaseMethod","retrieveLocations","onChangeQueryLocation","e","searchLocation","target","value","onChangeQueryCoupons","searchCoupons","checked","onChangeQueryPurchaseMethod","searchPurchaseMethod","onChangeSetstartDate","onChangeSetendDate","getAll","then","response","data","Sales","catch","console","log","getPurchaseMethod","concat","getStoreLocations","refreshList","find","query","by","modifySalesFormat","modified","total","map","sale","saleDate","m","push","storeLocation","format","customer","email","satisfaction","purchaseMethod","couponUsed","items","item","parseInt","quantity","price","sort","a","b","toDate","length","findAll","findByLocation","findByCoupons","findByPurchaseMethod","findAllFilters","loggedIn","method","Math","trunc","allowHtml","title","legend","position","pageSize","width","height","cssClassNames","login"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport SalesDataService from '../services/sales.js'\nimport { useEffect } from 'react';\nimport '../App.css'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Chart } from \"react-google-charts\";\nimport dayjs from 'dayjs' ;\nimport priceFormatter from '../services/priceFormatter.js'\nimport {Link, Route, Routes} from 'react-router-dom' ;\nimport Login from './login.js'\n\nconst SalesList = props => {\n  const [sales, setSales] = React.useState([])\n  const [queryLocation, setQueryLocation] = React.useState(\"\")\n  const [queryCoupons, setQueryCoupons] = React.useState()\n  const [queryPurchaseMethod, setQueryPurchaseMethod] = React.useState(\"\")\n  const [purchaseMethods, setPurchaseMethods] = React.useState([\"Any\"]);\n  const [pages, setQueryPage] = React.useState(0) \n  const [locations,  setLocations] = React.useState([\"All\"])\n  const [startDate, setstartDate] = React.useState(new Date())\n  const [endDate, setendDate] = React.useState(new Date())\n  const [NoSalesFlag, setNoSalesFlag] = React.useState(false)\n  const [modifiedSales, setModifiedSales] = React.useState(null)\n  const [totalSales, settotalSales] = useState(0)\n  const [revenue, setRevenue]=useState(0.0)\n  \n  useEffect(() => {\n    retrieveSales();\n    retrievePurchaseMethod();\n    retrieveLocations();\n    setQueryCoupons(false);\n  }, []);\n\n  const onChangeQueryLocation = e => {\n    const searchLocation = e.target.value;\n    setQueryLocation(searchLocation);\n  };\n\n  const onChangeQueryCoupons = e => {\n    const searchCoupons = (e.target.checked?true:false)\n    setQueryCoupons(searchCoupons);\n  };\n\n  const onChangeQueryPurchaseMethod = e => {\n    const searchPurchaseMethod = e.target.value;\n    setQueryPurchaseMethod(searchPurchaseMethod);\n  };\n\n  const onChangeSetstartDate = e => {\n    setstartDate(e)\n  }\n\n  const onChangeSetendDate = e => {\n    setendDate(e)\n  }\n\n  const retrieveSales = () => {\n    SalesDataService.getAll()\n      .then(response => {\n        setSales(response.data.Sales);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n      setNoSalesFlag(true)\n  };\n\n  const retrievePurchaseMethod = () => {\n    SalesDataService.getPurchaseMethod()\n      .then(response => {\n        setPurchaseMethods([\"Any\"].concat(response.data));\n        setNoSalesFlag(true)\n      })\n      .catch(e => {\n        console.log(e);\n      });\n      \n  };\n\n  const retrieveLocations = () => {\n    SalesDataService.getStoreLocations()\n    .then(response => {\n      setLocations([\"All\"].concat(response.data));\n      setNoSalesFlag(true)\n    })\n    .catch(e => {\n      console.log(e);\n    });\n  }\n\n  const refreshList = () => {\n    retrieveSales();\n    setNoSalesFlag(true)\n  };\n\n  const find = (query, by) => {\n    SalesDataService.find(query, by)\n      .then(response => {\n        \n        setSales(response.data.Sales);\n\n        modifySalesFormat() \n        setNoSalesFlag(true)\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const modifySalesFormat = () => {\n    \n    var modified = [['Location','Date (MM-DD-YYYY)','Customer','Rating','Purchase Method','Coupon used']]\n    var total=0;\n    var revenue=0\n    sales.map(sale => {\n      if(dayjs(sale.saleDate) > dayjs(startDate) && dayjs(sale.saleDate) < dayjs(endDate)) {\n        var m = []\n        m.push(sale.storeLocation)\n        m.push(dayjs(sale.saleDate).format('MM-DD-YYYY'))\n        m.push(sale.customer.email)\n        m.push(sale.customer.satisfaction)\n        m.push(sale.purchaseMethod)\n        m.push(sale.couponUsed)\n        modified.push(m) \n        sale.items.map(item=>{\n          total+=(parseInt(item.quantity))\n          revenue+=(parseInt(item.quantity)*item.price['$numberDecimal'])\n        })\n      }\n    })\n\n    modified.sort((a,b) => (dayjs(b[1]).toDate())-(dayjs(a[1]).toDate()))\n\n    if(modified.length>1) {\n      setModifiedSales(modified)\n      settotalSales(total)\n      setRevenue(revenue)\n    }\n\n  }\n\n  const findAll = () => {\n    SalesDataService.getAll(pages)\n      .then(response => {\n          setSales(response.data.Sales)\n      })\n  }\n\n  const findByLocation = () => {\n    if (queryPurchaseMethod === \"All\") {\n      refreshList();\n    }\n    else {\n      find(queryLocation, \"location\")\n    }\n  };\n\n  const findByCoupons = () => {\n    \n    find(queryCoupons, \"couponUsed\")\n  };\n\n  const findByPurchaseMethod = () => {\n    if (queryPurchaseMethod === \"Any\") {\n      refreshList();\n    } else {\n      find(queryPurchaseMethod, \"purchaseMethod\")\n    }\n  };\n\n  const findAllFilters = () => {\n    if(queryLocation === \"Any\") queryLocation = null\n    if(queryPurchaseMethod === \"All\") queryPurchaseMethod = null\n    SalesDataService.findAll(queryLocation, queryPurchaseMethod, queryCoupons)\n    .then(response => {\n      setSales(response.data.Sales)\n      modifySalesFormat(sales)\n    })\n    .catch(e => {\n        console.log(e)\n    })\n  }\n<div class=\"form-outline form-white\">\n  <input type=\"text\" id=\"formWhite\" class=\"form-control\" />\n  <label class=\"form-label\" for=\"formWhite\">Example label</label>\n</div>\n  return (\n      props.loggedIn ? ( <div className='container wrapper App'>\n      <div className='row py-3'>\n        <div className=\"col-3\">\n        <div class=\"sticky-top\">\n        <div class=\"nav flex-column float-left\">     \n          <div className=\"form-outline form-white\">\n              <select class=\"form-control selectinput\" type=\"select\" onChange={onChangeQueryPurchaseMethod}>\n                {\n                  purchaseMethods.map(method => {\n                    return (\n                      <option value={method}> {method} </option>\n                    )\n                  })\n                }\n              </select>\n              <label class=\"form-label\" for=\"formWhite1\">Purchase Method</label>\n          </div>\n        <div className=\"form-outline form-white\">\n          <select class=\"form-control selectinput\" type='select'  onChange={onChangeQueryLocation}>\n              {\n                locations.map(method => {\n                  return (\n                    <option value={method}> {method} </option>\n                  )\n                })\n              }\n            </select>\n            <label class=\"form-label\" for=\"formWhite2\">Location</label>\n            {/* <div className=\"input-group-append\">\n                <button className=\"btn btn-outline-dark\" onClick={findByLocation}>Apply</button>\n            </div> */}\n        </div>\n        <div className=\"form-outline form-white\">\n            <DatePicker\n              className='form-control input'\n\t\t\t\t\t\t\t\tid=\"startDate\"\n\t\t\t\t\t\t\t\tonChange={onChangeSetstartDate}\n\t\t\t\t\t\t\t\tselected={startDate}\n\t\t\t\t\t\t\t/>\n            <label class=\"form-label\" for=\"formWhite3\">From</label>\n        </div>\n        <div className=\"form-outline form-white\">\n            <DatePicker\n                className='form-control input' \n\t\t\t\t\t\t\t\tid=\"endDate\"\n\t\t\t\t\t\t\t\tonChange={onChangeSetendDate}\n\t\t\t\t\t\t\t\tselected={endDate}\n\t\t\t\t\t\t\t/>\n              <label class=\"form-label\" for=\"formWhite4\">To</label>\n        </div>   \n        <div class=\"custom-control custom-switch\">\n          <input type=\"checkbox\"  class=\"regular-checkbox big-checkbox\" onChange={onChangeQueryCoupons} id=\"customSwitch2\" />\n        </div>\n        <label class=\"form-label\" for=\"formWhite6\">Coupons</label>\n        <br/>\n        <br/>\n        <div className=\"input-group-append mb-3\">\n          <button\n            className=\"btn btn-outline-dark\"\n            type=\"button\"\n            onClick={findAllFilters}\n          >\n            Apply All Filters\n          </button>\n        </div>\n      </div>  \n        <br/>\n        <br/>\n        <div className='row py-3'>\n        <div className=\"col-12\">\n              <div className=\"card\">\n                <div className=\"card-body card-bg-dark \">\n                  <h5 className=\"card-title card-bg-dark\">STATS</h5>\n                  <p className=\"card-text card-bg-dark\">\n                    <strong>Total Sales : </strong>{priceFormatter(totalSales)}<br/>\n                    <strong>Revenue: </strong>{priceFormatter(Math.trunc(revenue))}<br/>\n                  </p>\n                </div>\n              </div>\n            </div>\n      </div>\n      </div> \n      </div>\n      <div className='col-1'></div>\n      <div className=\"col\">\n      { \n        NoSalesFlag && modifiedSales ?\n        <Chart\n            chartType=\"Table\"\n            width=\"100%\"\n            height=\"100%\"\n            data={modifiedSales}\n            options={{     \n              allowHtml: true,\n              title: \"Sales\",\n              legend: { position: \"top\" },\n              pageSize: 25,\n              width:\"100%\",\n              height:\"100%\",\n              cssClassNames: {\n                'headerRow': 'font-color-white large-font bold-font black-background gold-border',\n                'tableRow': 'light-coral-background font-color-black bold-font',\n                'oddTableRow': 'orange-background font-color-black bold-font',\n                'selectedTableRow': 'light-orange-background large-font',\n                'hoverTableRow': 'light-orange-background large-font',\n                'headerCell': 'gold-border',\n                'tableCell': 'text-font right-text deeppink-border',\n                'rowNumberCell': 'underline-blue-font',\n                'footer':'black-background'\n              }            \n            }}\n          /> :\n          <div class=\"jumbotron jumbotron-fluid\">\n          <div class=\"container\">\n            <h1 class=\"display-4\">No Such Sales Exist :(</h1>\n            <p class=\"lead\">Try the following<br/>\n              <li>Change the <div className='text-italics'>From date</div>  value</li>\n              <li>Change the <div className='text-italics'>Coupons</div> value</li>\n              <li>Click on <div className='text-italics'>Apply All Filters</div> another time if <div className='text-italics'>desired</div> results are not obtained</li>\n              <li>Currently on sales dated between <div className='text-italics'>2013</div> and <div className=\"text-italics\">2017</div> exist</li>\n            </p>\n          </div>\n        </div>\n      } \n      </div>\n      </div>\n    </div>\n    ) :\n    (<div>\n    <div class=\"jumbotron jumbotron-fluid\">\n      <div class=\"container\">\n        <h1 class=\"display-4\">Log In to continue</h1>\n        <p class=\"lead\">Head on to <Link to='/supply'>Login Page</Link></p>\n      </div>\n    </div>\n     <div className=\"container mt-3\">\n     <Routes>\n       <Route path=\"/supply\" element={<Login login={props.login}/>}\n       />\n     </Routes>\n     </div>\n     </div>\n    )\n   \n  );\n}\n\nexport default SalesList;"]},"metadata":{},"sourceType":"module"}