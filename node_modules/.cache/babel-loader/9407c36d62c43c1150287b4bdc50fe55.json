{"ast":null,"code":"var _jsxFileName = \"/home/aarthi/fitgit/react/einduch-stop/frontend/src/components/management.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, Routes, Route } from 'react-router-dom';\nimport StoresDataService from '../services/stores.js';\nimport SalesDataService from '../services/sales.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ManagementTools = props => {\n  _s();\n\n  const [stores, setStores] = useState([]);\n  const [numStores, setNumStores] = useState(0);\n  const [currStore, setCurrStore] = useState(0);\n  const [revenue, setRevenue] = useState([]); // each index for each store\n\n  useEffect(() => {\n    retrieveLocationsAndCalc();\n    retrieveSales();\n  }, []);\n\n  const retrieveSales = () => {\n    var listRevenue = [];\n    stores.map(loc => {\n      SalesDataService.find(loc, \"location\").then(res => {\n        var revenue = 0.0;\n        const sales = res.data.Sales;\n        sales.map(sale => {\n          sale.items.map(item => {\n            revenue += parseInt(item.quantity) * item.price['$numberDecimal'];\n          });\n        });\n        listRevenue.push({\n          \"loc\": loc,\n          \"rev\": revenue\n        });\n      }).catch(e => {\n        console.log(e.message);\n      });\n    });\n    setRevenue(listRevenue);\n    console.log(listRevenue);\n  };\n\n  const calculateRevenue = () => {};\n\n  const retrieveLocationsAndCalc = () => {\n    StoresDataService.getStores().then(res => {\n      const data = res.data.Stores;\n      var names = [];\n      data.map(store => {\n        names.push(store.location);\n      });\n      setStores(names);\n      setNumStores(res.data.Stores.length);\n      calculateRevenue();\n    }).catch(e => {\n      console.log(e.message);\n    });\n  };\n\n  const nextStore = e => {\n    const next = (currStore + 1) % numStores;\n    setCurrStore(next);\n  };\n\n  const prevStore = e => {\n    alert('prev');\n    const prev = currStore > 0 ? currStore - 1 : numStores - 1;\n    setCurrStore(prev);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row py-5\",\n      children: [\" \", props.loggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              fill: \"currentColor\",\n              class: \"bi bi-caret-left-fill\",\n              viewBox: \"0 0 16 16\",\n              onClick: prevStore,\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-centre\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: stores[currStore]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              fill: \"currentColor\",\n              class: \"bi bi-caret-right-fill\",\n              viewBox: \"0 0 16 16\",\n              onClick: nextStore,\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"jumbotron jumbotron-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"display-4\",\n            children: \"Log In to continue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"lead\",\n            children: [\"Head on to \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/supply\",\n              children: \"Login Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 7\n  }, this);\n};\n\n_s(ManagementTools, \"jOL28jbULmdTz5arjQiXZLzK0Pw=\");\n\n_c = ManagementTools;\nexport default ManagementTools;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManagementTools\");","map":{"version":3,"sources":["/home/aarthi/fitgit/react/einduch-stop/frontend/src/components/management.component.js"],"names":["React","useEffect","useState","Link","Routes","Route","StoresDataService","SalesDataService","ManagementTools","props","stores","setStores","numStores","setNumStores","currStore","setCurrStore","revenue","setRevenue","retrieveLocationsAndCalc","retrieveSales","listRevenue","map","loc","find","then","res","sales","data","Sales","sale","items","item","parseInt","quantity","price","push","catch","e","console","log","message","calculateRevenue","getStores","Stores","names","store","location","length","nextStore","next","prevStore","alert","prev","loggedIn"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {Link,Routes,Route} from 'react-router-dom';\nimport StoresDataService from '../services/stores.js' ;\nimport SalesDataService from '../services/sales.js' ;\n\nconst ManagementTools = (props) => {\n    const [stores, setStores] = useState([])    \n    const [numStores, setNumStores] = useState(0)\n    const [currStore, setCurrStore] = useState(0)\n    const [revenue, setRevenue] = useState([]) // each index for each store\n    \n  useEffect(() => {\n    retrieveLocationsAndCalc()\n    retrieveSales()\n  }, []);\n\n  const retrieveSales = () => {\n    var listRevenue = []\n    stores.map(loc=>{\n      SalesDataService.find(loc,\"location\")\n        .then(res=>{\n          var revenue=0.0\n          const sales = res.data.Sales\n          sales.map(sale=>{\n            sale.items.map(item=>{\n              revenue+=(parseInt(item.quantity)*item.price['$numberDecimal'])\n            })\n          })\n          listRevenue.push({\"loc\":loc,\"rev\":revenue})\n        })\n        .catch(e=>{console.log(e.message)})\n    })\n    setRevenue(listRevenue)\n    console.log(listRevenue)\n  }\n\n  const calculateRevenue = () => {\n\n  }\n\n  const retrieveLocationsAndCalc = () => {\n    StoresDataService.getStores()\n      .then(res=>{\n        const data = res.data.Stores\n        var names = []\n        data.map(store=>{\n          names.push(store.location)\n        })\n        setStores(names)\n        setNumStores(res.data.Stores.length)\n        calculateRevenue()\n      })\n      .catch(e=>{console.log(e.message)})\n  }\n\n  const nextStore = e => {\n    const next = (currStore+1)%numStores\n    setCurrStore(next)\n  }\n\n  const prevStore = e => {\n    alert('prev')\n    const prev = (currStore>0?(currStore-1):(numStores-1))\n    setCurrStore(prev)\n  }\n  \n    return (\n      <div>\n      <div className='row'></div>\n      <div className='row py-5'> {\n        props.loggedIn ? (\n        <div class=\"container\">\n          <div className='row'>\n            <div className='col'>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-fill\" viewBox=\"0 0 16 16\" onClick={prevStore}>\n                <path d=\"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\"/>\n              </svg>\n            </div>\n            <div className='col-8'>\n              <div className='text-centre'><h1>{stores[currStore]}</h1></div>\n\n            </div>\n            <div className='col'><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right-fill\" viewBox=\"0 0 16 16\" onClick={nextStore}>\n                <path d=\"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\"/>\n              </svg>\n            </div>\n         </div>\n        </div>\n       ) :\n       (\n       <div class=\"jumbotron jumbotron-fluid\">\n         <div class=\"container\">\n           <h1 class=\"display-4\">Log In to continue</h1>\n           <p class=\"lead\">Head on to <Link to='/supply'>Login Page</Link></p>\n         </div>\n       </div>\n       )\n       }\n      </div>\n      </div>\n    );\n}\n\nexport default ManagementTools;"]},"metadata":{},"sourceType":"module"}